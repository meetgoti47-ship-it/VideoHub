html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamVerse</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
          }
        }
      }
    </script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-slate-900 font-sans">
    <div id="root"></div>

    <script src="config.js"></script>

    <script type="text/babel">
        // Using React hooks from the global React object
        const { useState, useRef, useEffect } = React;

        // --- Helper Components & Icons ---

        const Icon = ({ path, className = "w-6 h-6" }) => (
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className={className}>
            <path d={path} />
          </svg>
        );

        const PlayIcon = () => <Icon path="M8 5v14l11-7z" />;
        const UploadIcon = () => <Icon path="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z" />;
        const VideoIcon = () => <Icon path="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z" />;
        const SadFaceIcon = () => <Icon path="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7zm-1-4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm8 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z" />;
        const LikeIcon = () => <Icon path="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />;
        const CommentIcon = () => <Icon path="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z" />;
        const DeleteIcon = () => <Icon path="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />;
        const LogoutIcon = () => <Icon path="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" />;
        const UserIcon = () => <Icon path="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />;

        // --- Mock Data ---
        const initialVideos = [
            {
                id: 1,
                name: "Exploring the Mountains.mp4",
                url: "mock://mountains.mp4",
                uploader: "Alice",
                likes: 15,
                comments: [
                    { user: "Bob", text: "Amazing views!" },
                    { user: "Charlie", text: "Wish I was there." }
                ]
            },
            {
                id: 2,
                name: "Ocean Waves.mp4",
                url: "mock://ocean.mp4",
                uploader: "Bob",
                likes: 32,
                comments: [
                    { user: "Alice", text: "So relaxing." }
                ]
            }
        ];

        // --- Authentication Component ---
        function AuthScreen({ onLogin, onSignup }) {
            const [isLogin, setIsLogin] = useState(true);
            const [username, setUsername] = useState('');
            const [password, setPassword] = useState('');
            const [error, setError] = useState('');

            const handleSubmit = (e) => {
                e.preventDefault();
                if (!username || !password) {
                    setError('Username and password are required.');
                    return;
                }
                setError('');
                if (isLogin) {
                    onLogin(username, password, setError);
                } else {
                    onSignup(username, password, setError);
                }
            };

            return (
                <div className="min-h-screen flex items-center justify-center bg-slate-900 p-4">
                    <div className="bg-slate-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-slate-700">
                        <div className="flex items-center justify-center mb-6 gap-3">
                            <VideoIcon className="w-10 h-10 text-cyan-400" />
                            <h1 className="text-3xl font-bold text-white">StreamVerse</h1>
                        </div>
                        <h2 className="text-2xl font-bold text-white text-center mb-2">{isLogin ? 'Login' : 'Sign Up'}</h2>
                        <p className="text-slate-400 text-center mb-6">Welcome! Please enter your details.</p>
                        <form onSubmit={handleSubmit}>
                            {error && <p className="bg-red-500/20 text-red-400 p-3 rounded-lg mb-4 text-center">{error}</p>}
                            <div className="mb-4">
                                <label className="block text-slate-300 mb-2" htmlFor="username">Username</label>
                                <input
                                    type="text"
                                    id="username"
                                    value={username}
                                    onChange={(e) => setUsername(e.target.value)}
                                    className="w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                                />
                            </div>
                            <div className="mb-6">
                                <label className="block text-slate-300 mb-2" htmlFor="password">Password</label>
                                <input
                                    type="password"
                                    id="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                                />
                            </div>
                            <button type="submit" className="w-full bg-gradient-to-br from-cyan-500 to-cyan-700 hover:from-cyan-600 hover:to-cyan-800 text-white font-bold py-2 px-4 rounded-lg transition-all duration-300 shadow-lg shadow-cyan-500/20">
                                {isLogin ? 'Login' : 'Sign Up'}
                            </button>
                        </form>
                        <p className="text-center text-slate-400 mt-6">
                            {isLogin ? "Don't have an account?" : "Already have an account?"}
                            <button onClick={() => { setIsLogin(!isLogin); setError(''); }} className="text-cyan-400 hover:underline ml-2 font-semibold">
                                {isLogin ? 'Sign Up' : 'Login'}
                            </button>
                        </p>
                    </div>
                </div>
            );
        }

        // --- Main App Component ---
        function App() {
          // You can now access your API keys like this:
          // console.log("Firebase Project ID:", firebaseConfig.projectId);
          // console.log("Cloudinary Cloud Name:", cloudinaryConfig.cloudName);

          // State management
          const [users, setUsers] = useState([{username: 'Alice', password: 'password'}, {username: 'Bob', password: 'password'}]);
          const [currentUser, setCurrentUser] = useState(null);
          const [videos, setVideos] = useState(initialVideos);
          const [currentVideo, setCurrentVideo] = useState(null);
          const [isPlaying, setIsPlaying] = useState(false);
          const [commentText, setCommentText] = useState('');
          
          // Refs for DOM elements
          const fileInputRef = useRef(null);
          const videoPlayerRef = useRef(null);

          // Effect to set the first video as current when the list updates
          useEffect(() => {
            if (!currentVideo && videos.length > 0) {
              setCurrentVideo(videos[0]);
            }
          }, [videos, currentVideo]);

          // Effect to sync play/pause state with the video element
          useEffect(() => {
            const videoElement = videoPlayerRef.current;
            if (videoElement) {
              if (isPlaying) {
                videoElement.play().catch(error => console.error("Playback error:", error));
              } else {
                videoElement.pause();
              }
            }
          }, [isPlaying, currentVideo]);
          
          // --- Auth Handlers ---
          const handleSignup = (username, password, setError) => {
              if (users.find(user => user.username === username)) {
                  setError('Username already exists.');
              } else {
                  setUsers([...users, { username, password }]);
                  setCurrentUser({ username });
              }
          };

          const handleLogin = (username, password, setError) => {
              const user = users.find(user => user.username === username && user.password === password);
              if (user) {
                  setCurrentUser({ username });
              } else {
                  setError('Invalid username or password.');
              }
          };

          const handleLogout = () => {
              setCurrentUser(null);
          };

          // --- Video Handlers ---
          const handleFileChange = (event) => {
            const files = Array.from(event.target.files);
            const newVideos = files
              .filter(file => file.type.startsWith('video/'))
              .map(file => ({
                id: Date.now() + Math.random(),
                name: file.name,
                url: URL.createObjectURL(file),
                uploader: currentUser.username,
                likes: 0,
                comments: [],
              }));

            if (newVideos.length > 0) {
              setVideos(prevVideos => [...prevVideos, ...newVideos]);
            }
          };

          const handleUploadClick = () => fileInputRef.current?.click();
          const handleVideoSelect = (video) => {
            setCurrentVideo(video);
            setIsPlaying(true);
          };
          const handleOnPlay = () => setIsPlaying(true);
          const handleOnPause = () => setIsPlaying(false);

          const handleLike = (videoId) => {
              const updatedVideos = videos.map(video => 
                  video.id === videoId ? { ...video, likes: video.likes + 1 } : video
              );
              setVideos(updatedVideos);
              if(currentVideo && currentVideo.id === videoId) {
                  setCurrentVideo(prev => ({...prev, likes: prev.likes + 1}));
              }
          };

          const handleAddComment = (videoId) => {
              if (!commentText.trim()) return;
              const newComment = { user: currentUser.username, text: commentText };
              const updatedVideos = videos.map(video => 
                  video.id === videoId ? { ...video, comments: [...video.comments, newComment] } : video
              );
              setVideos(updatedVideos);
               if(currentVideo && currentVideo.id === videoId) {
                  setCurrentVideo(prev => ({...prev, comments: [...prev.comments, newComment]}));
              }
              setCommentText('');
          };
          
          const handleDeleteVideo = (videoId) => {
              const videoToDelete = videos.find(v => v.id === videoId);
              if (videoToDelete.uploader !== currentUser.username) {
                  const modal = document.createElement('div');
                  modal.innerHTML = `<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"><div class="bg-slate-800 p-6 rounded-lg text-white">You can only delete your own videos.</div></div>`;
                  document.body.appendChild(modal);
                  setTimeout(() => document.body.removeChild(modal), 2000);
                  return;
              }

              const updatedVideos = videos.filter(video => video.id !== videoId);
              setVideos(updatedVideos);

              if (currentVideo && currentVideo.id === videoId) {
                  setCurrentVideo(updatedVideos.length > 0 ? updatedVideos[0] : null);
              }
          };

          // --- Render Logic ---
          if (!currentUser) {
              return <AuthScreen onLogin={handleLogin} onSignup={handleSignup} />;
          }

          return (
            <div className="bg-slate-900 text-white min-h-screen font-sans flex flex-col" style={{ height: '100vh' }}>
              {/* Header */}
              <header className="bg-slate-900/70 backdrop-blur-sm p-4 flex items-center justify-between z-10 flex-shrink-0 border-b border-slate-800">
                <div className="flex items-center gap-3">
                  <VideoIcon className="w-8 h-8 text-cyan-400" />
                  <h1 className="text-2xl font-bold tracking-wider">StreamVerse</h1>
                </div>
                <div className="flex items-center gap-4">
                    <span className="text-slate-300">Welcome, <span className="font-bold text-cyan-400">{currentUser.username}</span></span>
                    <button
                      onClick={handleUploadClick}
                      className="flex items-center gap-2 bg-gradient-to-br from-cyan-500 to-cyan-700 hover:from-cyan-600 hover:to-cyan-800 text-white font-semibold px-4 py-2 rounded-lg shadow-md transition-transform duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:ring-opacity-75"
                    >
                      <UploadIcon />
                      <span>Upload</span>
                    </button>
                    <button onClick={handleLogout} className="p-2 rounded-full hover:bg-slate-700 transition-colors" title="Logout">
                        <LogoutIcon />
                    </button>
                </div>
              </header>

              {/* Main Content */}
              <main className="flex-grow flex flex-col md:flex-row p-4 gap-4 overflow-hidden">
                {/* Video Player & Details Section */}
                <div className="flex-grow md:w-2/3 flex flex-col gap-4 overflow-hidden">
                  <div className="flex-shrink-0 bg-black rounded-xl shadow-2xl overflow-hidden aspect-video border border-slate-800">
                    {currentVideo ? (
                        currentVideo.url.startsWith('mock://') ? (
                            <div className="w-full h-full flex items-center justify-center bg-slate-800">
                                <div className="text-center text-slate-500">
                                    <VideoIcon className="w-24 h-24 mx-auto mb-4" />
                                    <p className="text-xl font-semibold">{currentVideo.name}</p>
                                    <p>(This is a mock video for UI demonstration)</p>
                                </div>
                            </div>
                        ) : (
                            <video
                                ref={videoPlayerRef}
                                key={currentVideo.url}
                                src={currentVideo.url}
                                controls
                                className="w-full h-full object-contain"
                                onPlay={handleOnPlay}
                                onPause={handleOnPause}
                                autoPlay
                            />
                        )
                    ) : (
                      <div className="w-full h-full flex flex-col items-center justify-center text-slate-500 bg-slate-800 p-8 text-center">
                        <SadFaceIcon className="w-24 h-24 mb-4 text-slate-600"/>
                        <h2 className="text-2xl font-semibold mb-2">No Video Selected</h2>
                        <p>Upload a video or select one from the playlist.</p>
                      </div>
                    )}
                  </div>
                  
                  {/* Video Details & Actions */}
                  {currentVideo && (
                      <div className="bg-slate-800 border border-slate-700 rounded-xl shadow-lg p-4 overflow-y-auto">
                         <h2 className="text-xl font-bold truncate">{currentVideo.name}</h2>
                         <p className="text-sm text-slate-400 mb-4 flex items-center gap-2"><UserIcon className="w-4 h-4" /> {currentVideo.uploader}</p>
                         <div className="flex items-center justify-between mb-4">
                              <div className="flex items-center gap-4">
                                  <button onClick={() => handleLike(currentVideo.id)} className="flex items-center gap-2 text-slate-300 hover:text-red-500 transition-colors">
                                      <LikeIcon /> {currentVideo.likes} Likes
                                  </button>
                                  <div className="flex items-center gap-2 text-slate-300">
                                      <CommentIcon /> {currentVideo.comments.length} Comments
                                  </div>
                              </div>
                              <div className="relative">
                                  <select className="bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 appearance-none">
                                      <option>1080p</option>
                                      <option>720p</option>
                                      <option>480p</option>
                                  </select>
                              </div>
                         </div>

                         {/* Comments Section */}
                         <div className="space-y-3">
                              <h3 className="text-lg font-semibold border-t border-slate-700 pt-3">Comments</h3>
                              <div className="max-h-40 overflow-y-auto space-y-3 pr-2">
                                 {currentVideo.comments.length > 0 ? currentVideo.comments.map((comment, index) => (
                                     <div key={index} className="bg-slate-700/50 p-2 rounded-lg">
                                         <p className="font-bold text-cyan-400 text-sm">{comment.user}</p>
                                         <p className="text-slate-300">{comment.text}</p>
                                     </div>
                                 )) : <p className="text-slate-500">No comments yet.</p>}
                              </div>
                              <div className="flex gap-2 pt-2">
                                 <input 
                                     type="text"
                                     value={commentText}
                                     onChange={(e) => setCommentText(e.target.value)}
                                     placeholder="Add a comment..."
                                     className="flex-grow bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"
                                 />
                                 <button onClick={() => handleAddComment(currentVideo.id)} className="bg-cyan-600 hover:bg-cyan-500 text-white font-semibold px-4 py-2 rounded-lg">Send</button>
                              </div>
                         </div>
                      </div>
                  )}
                </div>

                {/* Playlist Section */}
                <aside className="w-full md:w-1/3 flex flex-col bg-slate-800 border border-slate-700 rounded-xl shadow-lg overflow-hidden">
                  <h2 className="text-xl font-semibold p-4 border-b border-slate-700">Playlist ({videos.length})</h2>
                  <div className="flex-grow overflow-y-auto p-2 space-y-2">
                    {videos.length > 0 ? (
                      videos.map((video) => (
                        <div
                          key={video.id}
                          onClick={() => handleVideoSelect(video)}
                          className={`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-all duration-200 group ${
                            currentVideo?.id === video.id
                              ? 'bg-cyan-600 shadow-lg'
                              : 'bg-slate-700/50 hover:bg-slate-700 hover:shadow-md'
                          }`}
                        >
                          <div className="flex-shrink-0 bg-slate-900 rounded-md w-12 h-12 flex items-center justify-center">
                             <PlayIcon className={`w-6 h-6 ${currentVideo?.id === video.id ? 'text-cyan-300' : 'text-slate-500'}`} />
                          </div>
                          <div className="flex-grow overflow-hidden">
                            <p className="truncate font-medium text-sm">{video.name}</p>
                            <p className="text-xs text-slate-400 flex items-center gap-1"><UserIcon className="w-3 h-3" /> {video.uploader}</p>
                          </div>
                          {currentUser.username === video.uploader && (
                            <div className="flex items-center flex-shrink-0">
                                <span className="text-xs bg-cyan-500/30 text-cyan-300 px-2 py-0.5 rounded-full mr-2">Me</span>
                                <button 
                                    onClick={(e) => { e.stopPropagation(); handleDeleteVideo(video.id); }} 
                                    className="p-2 rounded-full text-slate-400 hover:bg-red-500/50 hover:text-white opacity-0 group-hover:opacity-100 transition-opacity"
                                    title="Delete video"
                                >
                                    <DeleteIcon className="w-5 h-5" />
                                </button>
                            </div>
                          )}
                        </div>
                      ))
                    ) : (
                      <div className="text-center text-slate-500 p-8">
                        <p>Your uploaded videos will appear here.</p>
                      </div>
                    )}
                  </div>
                </aside>
              </main>

              {/* Hidden File Input */}
              <input
                type="file"
                ref={fileInputRef}
                onChange={handleFileChange}
                className="hidden"
                accept="video/*"
                multiple
              />
            </div>
          );
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
